<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canadian Work Visa - East African Applicants</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Include jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        :root {
            --primary: #26374a;
            --secondary: #d81e05;
            --accent: #335075;
            --light: #f5f7fa;
            --dark: #2c3e50;
            --success: #2e7d32;
            --warning: #d9534f;
            --info: #335075;
            --gray: #eaebed;
        }
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            background: linear-gradient(to right, var(--primary), #1c2b3d);
            color: white;
            padding: 1.5rem;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 0;
            border-bottom: 5px solid var(--secondary);
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo i {
            font-size: 2rem;
        }
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        .logo span {
            color: white;
        }
        .gov-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        .language-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 5px;
        }
        .language-selector select {
            background: transparent;
            border: none;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
        }
        .language-selector select option {
            background: var(--primary);
            color: white;
        }
        .progress-container {
            flex: 1;
            min-width: 200px;
            max-width: 500px;
        }
        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 10px;
        }
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 2px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.3);
            z-index: 1;
        }
        .progress-bar {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 2px;
            width: 16.66%;
            background: white;
            transition: width 0.5s ease;
            z-index: 2;
        }
        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            position: relative;
            z-index: 3;
            color: white;
        }
        .step.active {
            background: white;
            color: var(--primary);
        }
        .step-label {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            white-space: nowrap;
            color: white;
        }
        .eligibility-notice {
            background: #e8f4fd;
            border: 1px solid #b6d7f2;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            color: var(--primary);
        }
        .eligibility-notice h3 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .application-container {
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid #d1d5db;
        }
        .form-container {
            padding: 30px;
        }
        .form-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
        }
        .form-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #eee;
        }
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.3rem;
            font-weight: 600;
        }
        .section-title i {
            font-size: 1.5rem;
        }
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s;
            background: white;
        }
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(38, 55, 74, 0.2);
        }
        .form-row {
            display: flex;
            gap: 20px;
        }
        .form-row .form-group {
            flex: 1;
        }
        /* NEW UPLOAD STYLES */
        .upload-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .upload-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #eaeaea;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .upload-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        .upload-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e8f4fd, #d1e7ff);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.8rem;
            color: var(--primary);
        }
        .upload-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        .upload-card p {
            color: #666;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        .upload-btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), #1c2b3d);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            border: none;
            width: 100%;
            font-size: 1rem;
        }
        .upload-btn:hover {
            background: linear-gradient(135deg, #1c2b3d, var(--primary));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(38, 55, 74, 0.3);
        }
        .file-input {
            display: none;
        }
        .file-preview {
            margin-top: 20px;
            display: none;
            text-align: center;
        }
        .file-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        .file-name {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #666;
            word-break: break-all;
        }
        .upload-status {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
        }
        .upload-status.pending {
            background: #fff3cd;
            color: #856404;
        }
        .upload-status.completed {
            background: #d4edda;
            color: var(--success);
        }
        .upload-progress {
            width: 100%;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
            display: none;
        }
        .upload-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), #1c2b3d);
            width: 0%;
            transition: width 0.3s ease;
        }
        .application-fee {
            background: var(--light);
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
            border-left: 5px solid var(--secondary);
        }
        .fee-amount {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }
        .fee-status {
            display: inline-block;
            background: #ffeaa7;
            color: #856404;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 600;
            margin: 15px 0;
        }
        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .payment-option {
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .payment-option:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        .payment-option.selected {
            border-color: var(--primary);
            background: rgba(38, 55, 74, 0.05);
        }
        .payment-logo {
            height: 60px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .payment-logo img {
            max-height: 100%;
            max-width: 100%;
        }
        .payment-details {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        .payment-details.active {
            display: block;
        }
        .btn {
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn-pay {
            background: var(--primary);
            color: white;
            margin-top: 10px;
        }
        .btn-pay:hover {
            background: #1c2b3d;
            transform: translateY(-2px);
        }
        .btn-submit {
            background: var(--primary);
            color: white;
            padding: 15px 40px;
            font-size: 1.1rem;
            width: 100%;
            margin-top: 20px;
        }
        .btn-submit:hover {
            background: #1c2b3d;
        }
        .btn-submit:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        .btn-prev {
            background: #f1f1f1;
            color: #333;
        }
        .btn-next {
            background: var(--primary);
            color: white;
        }
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        .summary-item:last-child {
            border-bottom: none;
        }
        .summary-label {
            font-weight: 600;
            color: var(--primary);
        }
        .summary-value {
            color: #555;
        }
        .canada-flag {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .flag {
            width: 300px;
            height: 150px;
            background: linear-gradient(to right, #FF0000 0%, #FF0000 33.33%, #FFFFFF 33.33%, #FFFFFF 66.66%, #FF0000 66.66%, #FF0000 100%);
            position: relative;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 2px;
        }
        .flag::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23FF0000' d='M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z M12,6c-3.31,0-6,2.69-6,6s2.69,6,6,6s6-2.69,6-6S15.31,6,12,6z M12,16c-2.21,0-4-1.79-4-4s1.79-4,4-4s4,1.79,4,4S14.21,16,12,16z'/%3E%3C/svg%3E");
            background-size: 100px;
            background-repeat: no-repeat;
            background-position: center;
        }
        footer {
            background: var(--primary);
            color: white;
            padding: 2rem 0 1rem;
            margin-top: 4rem;
            border-radius: 0 0 10px 10px;
            border-top: 5px solid var(--secondary);
        }
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 2rem;
            padding: 0 30px;
        }
        .footer-section h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: white;
        }
        .footer-section p, .footer-section a {
            color: #ecf0f1;
            margin-bottom: 8px;
            display: block;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .footer-section a:hover {
            color: #d1d5db;
        }
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            font-size: 0.9rem;
            color: #bdc3c7;
        }
        .required::after {
            content: " *";
            color: var(--secondary);
        }
        .optional::after {
            content: " (Optional)";
            color: #6c757d;
            font-weight: normal;
        }
        .eligible-countries {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .country-tag {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .ineligible-countries {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .ineligible-tag {
            background: #6c757d;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .info-box {
            background: #e8f4fd;
            border-left: 4px solid var(--info);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
        .info-box h4 {
            color: var(--info);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .payment-instructions {
            background: #f9f9f9;
            border-radius: 5px;
            padding: 15px;
            margin-top: 15px;
        }
        .payment-instructions ol {
            margin-left: 20px;
            margin-top: 10px;
        }
        .payment-instructions li {
            margin-bottom: 10px;
        }
        .payment-info-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .payment-info-box h4 {
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .refund-policy {
            background: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .refund-policy h4 {
            color: var(--success);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .ircc-branding {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .ircc-logo {
            width: 50px;
            height: 50px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        /* NEW STYLES FOR JOB SELECTION */
        .job-selection-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .job-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #eaeaea;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        .job-card.selected {
            border-color: var(--primary);
            background: rgba(38, 55, 74, 0.03);
        }
        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        .job-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        .job-wage {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
            white-space: nowrap;
            margin-left: 15px;
        }
        .job-province {
            display: inline-block;
            background: #e8f4fd;
            color: var(--info);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .job-description {
            color: #555;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .job-details {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        .job-detail-item {
            display: flex;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        .job-detail-label {
            font-weight: 600;
            color: var(--primary);
            min-width: 120px;
        }
        .job-detail-value {
            color: #555;
            flex: 1;
        }
        .job-requirements {
            margin-top: 15px;
        }
        .job-requirements h4 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1rem;
        }
        .job-requirements ul {
            padding-left: 20px;
            color: #555;
        }
        .job-requirements li {
            margin-bottom: 5px;
        }
        /* NEW STYLES FOR APPLICANTS LIST */
        .applicants-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 40px 0 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #eaeaea;
        }
        .applicants-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .applicants-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        .applicants-table th {
            background-color: var(--primary);
            color: white;
            text-align: left;
            padding: 12px 15px;
        }
        .applicants-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #ddd;
        }
        .applicants-table tr:hover {
            background-color: #f5f5f5;
        }
        .applicant-actions {
            display: flex;
            gap: 10px;
        }
        .btn-view {
            background: var(--info);
            color: white;
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        .btn-delete {
            background: var(--warning);
            color: white;
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        .applicants-empty {
            text-align: center;
            padding: 30px;
            color: #666;
        }
        .applicant-details {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        .applicant-details.active {
            display: block;
        }
        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .details-item {
            margin-bottom: 10px;
        }
        .details-label {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 5px;
        }
        .details-value {
            color: #555;
        }
        .document-previews {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .document-preview {
            text-align: center;
        }
        .document-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        .document-preview p {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
        }
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 5px;
        }
        .pagination button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        .pagination button.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .search-container {
            margin-bottom: 20px;
        }
        .search-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        .stats-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        /* NEW STYLES FOR PDF DOWNLOAD */
        .pdf-download-section {
            background: #e8f5e9;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            border: 2px dashed #4caf50;
        }
        .pdf-icon {
            font-size: 4rem;
            color: #4caf50;
            margin-bottom: 20px;
        }
        .tracking-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            margin: 15px 0;
            padding: 10px 20px;
            background: white;
            border-radius: 5px;
            display: inline-block;
            border: 2px solid var(--primary);
        }
        .btn-pdf {
            background: #4caf50;
            color: white;
            padding: 15px 30px;
            font-size: 1.1rem;
            margin-top: 20px;
        }
        .btn-pdf:hover {
            background: #388e3c;
            transform: translateY(-2px);
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            .progress-container {
                width: 100%;
            }
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            .form-grid {
                grid-template-columns: 1fr;
            }
            .form-container {
                padding: 20px;
            }
            .form-title {
                font-size: 1.5rem;
            }
            .section-title {
                font-size: 1.1rem;
            }
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .payment-options {
                grid-template-columns: 1fr;
            }
            .step-label {
                font-size: 0.6rem;
            }
            .flag {
                width: 200px;
                height: 100px;
            }
            .flag::before {
                width: 80px;
                height: 80px;
                background-size: 60px;
            }
            .upload-container {
                grid-template-columns: 1fr;
            }
            .job-selection-container {
                grid-template-columns: 1fr;
            }
            .job-header {
                flex-direction: column;
            }
            .job-wage {
                margin-left: 0;
                margin-top: 10px;
            }
            .applicants-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            .applicants-table {
                font-size: 0.85rem;
            }
            .applicant-actions {
                flex-direction: column;
            }
            .stats-container {
                flex-direction: column;
            }
        }
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .form-container {
                padding: 15px;
            }
            .upload-card {
                padding: 20px;
            }
            .application-fee {
                padding: 15px;
            }
            .fee-amount {
                font-size: 1.7rem;
            }
            .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            .step-label {
                display: none;
            }
            .flag {
                width: 150px;
                height: 75px;
            }
            .flag::before {
                width: 60px;
                height: 60px;
                background-size: 45px;
            }
        }
        .success-message {
            display: none;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        .success-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 20px;
        }
        .success-message h2 {
            color: var(--success);
            margin-bottom: 15px;
        }
        .success-message p {
            color: #555;
            margin-bottom: 25px;
        }
        .step-guide {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .step-guide h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .step-guide ul {
            padding-left: 20px;
            margin: 10px 0;
        }
        .step-guide li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-passport"></i>
                    <h1>Canada Work <span>Visa</span></h1>
                </div>
                <div class="gov-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>Official Government Service</span>
                </div>
                <div class="language-selector">
                    <i class="fas fa-globe"></i>
                    <select id="languageSelect">
                        <option value="en">English</option>
                        <option value="am">Amharic (አማርኛ)</option>
                        <option value="sw">Swahili (Kiswahili)</option>
                        <option value="fr">French (Français)</option>
                        <option value="ar">Arabic (العربية)</option>
                    </select>
                </div>
                <div class="progress-container">
                    <div class="progress-steps">
                        <div class="progress-bar" id="formProgress"></div>
                        <div class="step active" data-step="1">
                            <span>1</span>
                            <div class="step-label">Personal</div>
                        </div>
                        <div class="step" data-step="2">
                            <span>2</span>
                            <div class="step-label">Job Selection</div>
                        </div>
                        <div class="step" data-step="3">
                            <span>3</span>
                            <div class="step-label">Passport</div>
                        </div>
                        <div class="step" data-step="4">
                            <span>4</span>
                            <div class="step-label">Visa Details</div>
                        </div>
                        <div class="step" data-step="5">
                            <span>5</span>
                            <div class="step-label">Documents</div>
                        </div>
                        <div class="step" data-step="6">
                            <span>6</span>
                            <div class="step-label">Payment</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="application-container">
            <div class="form-container">
                <div class="ircc-branding">
                    <div class="ircc-logo">IRCC</div>
                    <h3>Immigration, Refugees and Citizenship Canada</h3>
                </div>
                
                <div class="eligibility-notice">
                    <h3><i class="fas fa-info-circle"></i> <span data-i18n="eligibility_title">Eligibility Notice</span></h3>
                    <p><span data-i18n="eligibility_text">This Canadian Work Visa program is specifically available for applicants from the following East African countries:</span></p>
                    <div class="eligible-countries">
                        <div class="country-tag">Ethiopia</div>
                        <div class="country-tag">Djibouti</div>
                        <div class="country-tag">Kenya</div>
                        <div class="country-tag">Tanzania</div>
                    </div>
                    <p style="margin-top: 10px; font-weight: 600;"><span data-i18n="ineligible_text">Applicants from Somalia and Sudan are not eligible for this specific program.</span></p>
                </div>
                <div class="canada-flag">
                    <div class="flag"></div>
                </div>
                <h2 class="form-title"><span data-i18n="form_title">Canadian Work Visa Application</span></h2>
                
                <!-- Step 1: Personal Information -->
                <div class="form-step active" id="step1">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-user"></i>
                            <span data-i18n="personal_info">Personal Information</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span data-i18n="step_guide">How to Complete This Step</span></h4>
                            <ul>
                                <li>Enter your <strong>full legal name</strong> exactly as it appears on your passport</li>
                                <li>Provide a <strong>valid email address</strong> that you check regularly</li>
                                <li>Enter your <strong>phone number</strong> with country code (e.g., +251 for Ethiopia)</li>
                                <li>Select your <strong>nationality</strong> from the dropdown menu</li>
                            </ul>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="firstName" class="required"><span data-i18n="first_name">First Name</span></label>
                                <input type="text" id="firstName" class="form-control" placeholder="Enter your first name" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName" class="required"><span data-i18n="last_name">Last Name</span></label>
                                <input type="text" id="lastName" class="form-control" placeholder="Enter your last name" required>
                            </div>
                            <div class="form-group">
                                <label for="email" class="required"><span data-i18n="email">Email Address</span></label>
                                <input type="email" id="email" class="form-control" placeholder="example@email.com" required>
                            </div>
                            <div class="form-group">
                                <label for="phone" class="required"><span data-i18n="phone">Phone Number</span></label>
                                <input type="tel" id="phone" class="form-control" placeholder="+251 912 345 678" required>
                            </div>
                            <div class="form-group">
                                <label for="dob" class="required"><span data-i18n="dob">Date of Birth</span></label>
                                <input type="date" id="dob" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="nationality" class="required"><span data-i18n="nationality">Nationality</span></label>
                                <select id="nationality" class="form-control" required>
                                    <option value=""><span data-i18n="select_nationality">Select your nationality</span></option>
                                    <option value="ethiopian">Ethiopian</option>
                                    <option value="djiboutian">Djiboutian</option>
                                    <option value="kenyan">Kenyan</option>
                                    <option value="tanzanian">Tanzanian</option>
                                    <option value="other"><span data-i18n="other_nationality">Other (Not Eligible)</span></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-navigation">
                        <div></div>
                        <button class="btn btn-next" id="next1"><span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 2: Job Selection -->
                <div class="form-step" id="step2">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-briefcase"></i>
                            <span>Job Selection</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span>How to Complete This Step</span></h4>
                            <ul>
                                <li>Browse through the available job opportunities in Canada</li>
                                <li>Review the job details, requirements, and wages carefully</li>
                                <li>Select the job that best matches your skills and experience</li>
                                <li>You can only select one job for your application</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4><i class="fas fa-info-circle"></i> Job Selection Information</h4>
                            <p>Please select one job from the available opportunities below. Each job includes detailed information about the position, requirements, and compensation. Make sure to choose a job that matches your qualifications and experience.</p>
                        </div>
                        <div class="job-selection-container" id="jobSelectionContainer">
                            <!-- Jobs will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="form-navigation">
                        <button class="btn btn-prev" id="prev2"><i class="fas fa-arrow-left"></i> <span data-i18n="previous">Previous</span></button>
                        <button class="btn btn-next" id="next2"><span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 3: Passport Information -->
                <div class="form-step" id="step3">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-passport"></i>
                            <span data-i18n="passport_info">Passport Information</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span data-i18n="step_guide">How to Complete This Step</span></h4>
                            <ul>
                                <li>Find your <strong>passport number</strong> on the photo page of your passport</li>
                                <li>Select the <strong>country that issued your passport</strong></li>
                                <li>Issue and expiry dates are optional but helpful if available</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4><i class="fas fa-info-circle"></i> <span data-i18n="passport_info_title">Passport Information</span></h4>
                            <p><span data-i18n="passport_info_text">Please provide your passport details. The issue and expiry dates are optional at this stage.</span></p>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="passportNumber" class="required"><span data-i18n="passport_number">Passport Number</span></label>
                                <input type="text" id="passportNumber" class="form-control" placeholder="Enter passport number" required>
                            </div>
                            <div class="form-group">
                                <label for="passportCountry" class="required"><span data-i18n="passport_country">Passport Issuing Country</span></label>
                                <select id="passportCountry" class="form-control" required>
                                    <option value=""><span data-i18n="select_country">Select country</span></option>
                                    <option value="ethiopia">Ethiopia</option>
                                    <option value="djibouti">Djibouti</option>
                                    <option value="kenya">Kenya</option>
                                    <option value="tanzania">Tanzania</option>
                                    <option value="other"><span data-i18n="other_country">Other (Not Eligible)</span></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="passportIssue" class="optional"><span data-i18n="issue_date">Issue Date</span></label>
                                <input type="date" id="passportIssue" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="passportExpiry" class="optional"><span data-i18n="expiry_date">Expiry Date</span></label>
                                <input type="date" id="passportExpiry" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="form-navigation">
                        <button class="btn btn-prev" id="prev3"><i class="fas fa-arrow-left"></i> <span data-i18n="previous">Previous</span></button>
                        <button class="btn btn-next" id="next3"><span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 4: Work Visa Details -->
                <div class="form-step" id="step4">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-file-alt"></i>
                            <span data-i18n="visa_details">Work Visa Details</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span data-i18n="step_guide">How to Complete This Step</span></h4>
                            <ul>
                                <li>Select the <strong>type of work visa</strong> that matches your situation</li>
                                <li>Enter your <strong>job title</strong> as it will appear in Canada</li>
                                <li>Provide your <strong>employer's name</strong> in Canada</li>
                                <li>Select the <strong>province</strong> where you will work</li>
                            </ul>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="visaType" class="required"><span data-i18n="visa_type">Type of Work Visa</span></label>
                                <select id="visaType" class="form-control" required>
                                    <option value=""><span data-i18n="select_visa">Select visa type</span></option>
                                    <option value="temporary"><span data-i18n="temporary_worker">Temporary Foreign Worker</span></option>
                                    <option value="seasonal"><span data-i18n="seasonal_worker">Seasonal Agricultural Worker</span></option>
                                    <option value="skilled"><span data-i18n="skilled_worker">Skilled Worker</span></option>
                                    <option value="caregiver"><span data-i18n="caregiver">Caregiver Program</span></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="jobTitle" class="required"><span data-i18n="job_title">Job Title in Canada</span></label>
                                <input type="text" id="jobTitle" class="form-control" placeholder="Enter your job title" required readonly>
                            </div>
                            <div class="form-group">
                                <label for="employer" class="required"><span data-i18n="employer">Employer Name</span></label>
                                <input type="text" id="employer" class="form-control" placeholder="Enter employer name" required readonly>
                            </div>
                            <div class="form-group">
                                <label for="province" class="required"><span data-i18n="province">Province of Employment</span></label>
                                <select id="province" class="form-control" required>
                                    <option value=""><span data-i18n="select_province">Select province</span></option>
                                    <option value="ontario">Ontario</option>
                                    <option value="quebec">Quebec</option>
                                    <option value="british-columbia">British Columbia</option>
                                    <option value="alberta">Alberta</option>
                                    <option value="manitoba">Manitoba</option>
                                    <option value="saskatchewan">Saskatchewan</option>
                                    <option value="nova-scotia">Nova Scotia</option>
                                    <option value="other"><span data-i18n="other_province">Other</span></option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="canadianAddress"><span data-i18n="canadian_address">Canadian Address (if known)</span></label>
                                <input type="text" id="canadianAddress" class="form-control" placeholder="Street, City, Province">
                            </div>
                        </div>
                    </div>
                    <div class="form-navigation">
                        <button class="btn btn-prev" id="prev4"><i class="fas fa-arrow-left"></i> <span data-i18n="previous">Previous</span></button>
                        <button class="btn btn-next" id="next4"><span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 5: Document Upload -->
                <div class="form-step" id="step5">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-file-upload"></i>
                            <span data-i18n="document_upload">Document Upload</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span data-i18n="step_guide">How to Complete This Step</span></h4>
                            <ul>
                                <li><strong>Passport Copy</strong>: Upload a clear, color scan of your passport's information page</li>
                                <li><strong>Passport Photo</strong>: Upload a recent photo with white background (like passport photos)</li>
                                <li><strong>File Requirements</strong>: PDF, JPG, or PNG files under 5MB each</li>
                            </ul>
                        </div>
                        <div class="info-box">
                            <h4><i class="fas fa-info-circle"></i> <span data-i18n="document_submission">Document Submission</span></h4>
                            <p><span data-i18n="document_submission_text">Please upload your passport copy and photo now. Other supporting documents (employment letter, qualifications, etc.) will be submitted after the initial assessment and consultation payment.</span></p>
                        </div>
                        <div class="upload-container">
                            <div class="upload-card">
                                <div class="upload-icon">
                                    <i class="fas fa-passport"></i>
                                </div>
                                <h3><span data-i18n="passport_copy">Passport Copy</span></h3>
                                <p><span data-i18n="passport_copy_text">Upload a clear, color copy of your passport information page</span></p>
                                <input type="file" id="passportUpload" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <button class="upload-btn" for="passportUpload"><i class="fas fa-upload"></i> <span data-i18n="upload_file">Upload File</span></button>
                                <div class="upload-progress" id="passportProgress">
                                    <div class="upload-progress-bar"></div>
                                </div>
                                <div class="file-preview" id="passportPreview">
                                    <img src="" alt="Passport Preview">
                                    <div class="file-name" id="passportFileName"></div>
                                </div>
                                <div class="upload-status pending" id="passportStatus"><span data-i18n="not_uploaded">Not uploaded</span></div>
                            </div>
                            <div class="upload-card">
                                <div class="upload-icon">
                                    <i class="fas fa-id-card"></i>
                                </div>
                                <h3><span data-i18n="passport_photo">Passport Photo</span></h3>
                                <p><span data-i18n="passport_photo_text">Upload a recent passport-style photo with white background</span></p>
                                <input type="file" id="photoUpload" class="file-input" accept=".jpg,.jpeg,.png">
                                <button class="upload-btn" for="photoUpload"><i class="fas fa-upload"></i> <span data-i18n="upload_file">Upload File</span></button>
                                <div class="upload-progress" id="photoProgress">
                                    <div class="upload-progress-bar"></div>
                                </div>
                                <div class="file-preview" id="photoPreview">
                                    <img src="" alt="Photo Preview">
                                    <div class="file-name" id="photoFileName"></div>
                                </div>
                                <div class="upload-status pending" id="photoStatus"><span data-i18n="not_uploaded">Not uploaded</span></div>
                            </div>
                            <div class="upload-card">
                                <div class="upload-icon">
                                    <i class="fas fa-file-contract"></i>
                                </div>
                                <h3><span data-i18n="supporting_docs">Supporting Documents (Optional)</span></h3>
                                <p><span data-i18n="supporting_docs_text">Other documents can be uploaded after initial assessment and consultation payment</span></p>
                                <input type="file" id="docsUpload" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <button class="upload-btn" for="docsUpload"><i class="fas fa-upload"></i> <span data-i18n="upload_file">Upload File</span></button>
                                <div class="upload-progress" id="docsProgress">
                                    <div class="upload-progress-bar"></div>
                                </div>
                                <div class="file-name" id="docsFileName"><span data-i18n="no_file">No file chosen</span></div>
                                <div class="upload-status pending" id="docsStatus"><span data-i18n="not_uploaded">Not uploaded</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-navigation">
                        <button class="btn btn-prev" id="prev5"><i class="fas fa-arrow-left"></i> <span data-i18n="previous">Previous</span></button>
                        <button class="btn btn-next" id="next5"><span data-i18n="next">Next</span> <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 6: Payment -->
                <div class="form-step" id="step6">
                    <div class="form-section">
                        <h3 class="section-title">
                            <i class="fas fa-credit-card"></i>
                            <span data-i18n="payment">Payment</span>
                        </h3>
                        <div class="step-guide">
                            <h4><i class="fas fa-lightbulb"></i> <span data-i18n="step_guide">How to Complete This Step</span></h4>
                            <ul>
                                <li><strong>Application Fee</strong>: CAD $150 (non-refundable portion: 30%)</li>
                                <li>Select your preferred <strong>payment method</strong> (Telebirr or CBE)</li>
                                <li>Complete the payment using the provided instructions</li>
                                <li><strong>Upload your payment receipt</strong> to confirm payment</li>
                            </ul>
                        </div>
                        <div class="application-fee">
                            <h3><span data-i18n="application_fee">Application Fee</span></h3>
                            <div class="fee-amount">$150 CAD</div>
                            <div class="fee-status" id="feeStatus"><span data-i18n="not_paid">NOT PAID YET</span></div>
                            <p><span data-i18n="complete_application">Complete your application by paying the processing fee.</span></p>
                        </div>
                        <div class="refund-policy">
                            <h4><i class="fas fa-hand-holding-usd"></i> <span data-i18n="refund_policy">Refund Policy</span></h4>
                            <p><span data-i18n="refund_text"><strong>70% of the payment is refundable at any time if the applicant withdraws their application.</strong> The remaining 30% covers administrative costs incurred during the initial processing of your application.</span></p>
                        </div>
                        <div class="info-box">
                            <h4><i class="fas fa-info-circle"></i> <span data-i18n="payment_info">Payment Information</span></h4>
                            <p><span data-i18n="payment_info_text">Your application will only be processed after successful payment. If you choose to withdraw, you can request a refund of 70% of the payment at any stage of the application process.</span></p>
                        </div>
                        <div class="payment-info-box">
                            <h4><i class="fas fa-user-tie"></i> <span data-i18n="payment_contact">Payment Contact</span></h4>
                            <p><span data-i18n="payment_contact_text">All payments should be made to our correspondent:</span></p>
                            <p><strong><span data-i18n="name">Name</span>:</strong> Ato Solomon Mirgesa</p>
                            <p><span data-i18n="correct_accounts">Please ensure you use the correct account numbers below:</span></p>
                        </div>
                        <h4 style="margin: 20px 0 15px;"><span data-i18n="select_payment">Select Payment Method</span></h4>
                        <div class="payment-options">
                            <div class="payment-option" data-payment="telebirr">
                                <div class="payment-logo">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgMTUwIDUwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjUwIiByeD0iNSIgZmlsbD0iIzAwQ0NGRiIvPgo8dGV4dCB4PSI3NSIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiPjx0c3BhbiB4PSI3NSIgeT0iMzAiIGZvbnQtd2VpZ2h0PSJib2xkIj5URUxFQklSUjwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4K" alt="Telebirr">
                                </div>
                                <h4>Telebirr</h4>
                                <p><span data-i18n="mobile_payment">Mobile Payment</span></p>
                            </div>
                            <div class="payment-option" data-payment="cbe">
                                <div class="payment-logo">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgMTUwIDUwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjUwIiByeD0iNSIgZmlsbD0iI0ZGN0YwMCIvPgo8dGV4dCB4PSI3NSIgeT0iMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMDc1QzYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+PHRzcGFuIHg9Ijc1IiB5PSIzMCIgZm9udC13ZWlnaHQ9ImJvbGQiPkNvbW1lcmNpYWwgQmFuayBvZiBFdGhpb3BpYTwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4K" alt="CBE">
                                </div>
                                <h4>CBE</h4>
                                <p><span data-i18n="bank_transfer">Bank Transfer</span></p>
                            </div>
                        </div>
                        <div class="payment-details" id="telebirrDetails">
                            <h4><span data-i18n="telebirr_instructions">Telebirr Payment Instructions</span></h4>
                            <div class="payment-instructions">
                                <p><strong><span data-i18n="account_name">Account Name</span>:</strong> Ato Solomon Mirgesa</p>
                                <p><strong><span data-i18n="telebirr_account">Telebirr Account Number</span>:</strong> <strong>098768676</strong></p>
                                <ol>
                                    <li><span data-i18n="telebirr_step1">Dial *127# on your mobile phone</span></li>
                                    <li><span data-i18n="telebirr_step2">Select "Send Money" option</span></li>
                                    <li><span data-i18n="telebirr_step3">Enter the recipient number: <strong>098768676</strong></span></li>
                                    <li><span data-i18n="telebirr_step4">Enter the amount: <strong>150 CAD (equivalent in ETB)</strong></span></li>
                                    <li><span data-i18n="telebirr_step5">Enter your PIN to confirm the transaction</span></li>
                                    <li><span data-i18n="telebirr_step6">Take a screenshot of the transaction confirmation</span></li>
                                    <li><span data-i18n="telebirr_step7">Upload the screenshot using the button below</span></li>
                                </ol>
                                <div class="upload-card" style="margin-top: 20px;">
                                    <div class="upload-icon">
                                        <i class="fas fa-receipt"></i>
                                    </div>
                                    <h3><span data-i18n="upload_receipt">Upload Payment Receipt</span></h3>
                                    <p><span data-i18n="telebirr_receipt_text">Upload a screenshot of your Telebirr transaction confirmation</span></p>
                                    <input type="file" id="telebirrReceipt" class="file-input" accept=".jpg,.jpeg,.png">
                                    <button class="upload-btn" for="telebirrReceipt"><i class="fas fa-upload"></i> <span data-i18n="upload_file">Upload File</span></button>
                                    <div class="upload-progress" id="telebirrProgress">
                                        <div class="upload-progress-bar"></div>
                                    </div>
                                    <div class="file-name" id="telebirrFileName"><span data-i18n="no_file">No file chosen</span></div>
                                    <div class="upload-status pending" id="telebirrStatus"><span data-i18n="not_uploaded">Not uploaded</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="payment-details" id="cbeDetails">
                            <h4><span data-i18n="cbe_instructions">CBE Payment Instructions</span></h4>
                            <div class="payment-instructions">
                                <p><strong><span data-i18n="account_name">Account Name</span>:</strong> Ato Solomon Mirgesa</p>
                                <p><strong><span data-i18n="cbe_account">CBE Account Number</span>:</strong> <strong>100089786768</strong></p>
                                <ol>
                                    <li><span data-i18n="cbe_step1">Visit any CBE branch or use CBE's online banking</span></li>
                                    <li><span data-i18n="cbe_step2">Make a transfer to the account number above</span></li>
                                    <li><strong><span data-i18n="account_name">Account Name</span>:</strong> Solomon Mirgesa</li>
                                    <li><strong><span data-i18n="account_number">Account Number</span>:</strong> 100089786768</li>
                                    <li><strong><span data-i18n="bank">Bank</span>:</strong> <span data-i18n="cbe_bank">Commercial Bank of Ethiopia</span></li>
                                    <li><strong><span data-i18n="amount">Amount</span>:</strong> 150 CAD (<span data-i18n="equivalent">equivalent in ETB</span>)</li>
                                    <li><span data-i18n="cbe_step7">Take a photo or screenshot of the transaction receipt</span></li>
                                    <li><span data-i18n="cbe_step8">Upload the receipt using the button below</span></li>
                                </ol>
                                <div class="upload-card" style="margin-top: 20px;">
                                    <div class="upload-icon">
                                        <i class="fas fa-receipt"></i>
                                    </div>
                                    <h3><span data-i18n="upload_receipt">Upload Payment Receipt</span></h3>
                                    <p><span data-i18n="cbe_receipt_text">Upload a photo or screenshot of your CBE transaction receipt</span></p>
                                    <input type="file" id="cbeReceipt" class="file-input" accept=".jpg,.jpeg,.png,.pdf">
                                    <button class="upload-btn" for="cbeReceipt"><i class="fas fa-upload"></i> <span data-i18n="upload_file">Upload File</span></button>
                                    <div class="upload-progress" id="cbeProgress">
                                        <div class="upload-progress-bar"></div>
                                    </div>
                                    <div class="file-name" id="cbeFileName"><span data-i18n="no_file">No file chosen</span></div>
                                    <div class="upload-status pending" id="cbeStatus"><span data-i18n="not_uploaded">Not uploaded</span></div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-pay" id="payFeeBtn" style="display: none;"><i class="fas fa-credit-card"></i> <span data-i18n="confirm_payment">Confirm Payment</span></button>
                    </div>
                    <div class="form-navigation">
                        <button class="btn btn-prev" id="prev6"><i class="fas fa-arrow-left"></i> <span data-i18n="previous">Previous</span></button>
                        <button class="btn btn-submit" id="submitApplication" disabled><span data-i18n="submit_application">Submit Application</span></button>
                    </div>
                </div>
                
                <!-- Success Message with PDF Download -->
                <div class="success-message" id="successMessage">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2><span data-i18n="success_title">Application Submitted Successfully!</span></h2>
                    <p><span data-i18n="success_text">Thank you for submitting your Canadian Work Visa application. We have sent a confirmation to your email address.</span></p>
                    
                    <div class="pdf-download-section">
                        <div class="pdf-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <h3>Application Summary & Tracking Information</h3>
                        <p>Your application has been processed successfully. Please download your application summary and keep your tracking number for future reference.</p>
                        
                        <div class="tracking-number" id="trackingNumberDisplay">CA-WV-2023-8X9Y7Z</div>
                        
                        <button class="btn btn-pdf" id="downloadPdf">
                            <i class="fas fa-download"></i> Download Application Summary (PDF)
                        </button>
                    </div>
                    
                    <button class="btn btn-submit" id="newApplication" style="margin-top: 20px;">
                        <i class="fas fa-plus"></i> <span data-i18n="new_application">Start New Application</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ethiopian Applicants List Section (Moved to Bottom) -->
        <div class="applicants-section" id="applicantsSection">
            <div class="applicants-header">
                <h2 class="section-title">
                    <i class="fas fa-users"></i>
                    <span>Ethiopian Applicants Database</span>
                </h2>
                <button class="btn btn-submit" id="toggleApplicantsBtn">
                    <i class="fas fa-eye"></i> View Applicants
                </button>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="totalApplicants">173</div>
                    <div class="stat-label">Total Applicants</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="approvedCount">124</div>
                    <div class="stat-label">Approved</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingCount">37</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="rejectedCount">12</div>
                    <div class="stat-label">Rejected</div>
                </div>
            </div>
            
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search by name, passport number, or application ID...">
            </div>
            
            <div id="applicantsList"></div>
            <div class="pagination" id="pagination"></div>
            <div class="applicant-details" id="applicantDetails"></div>
        </div>
        
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3><span data-i18n="canada_work_visa">Canada Work Visa</span></h3>
                    <p><span data-i18n="official_portal">Official application portal for eligible East African applicants.</span></p>
                </div>
                <div class="footer-section">
                    <h3><span data-i18n="eligible_countries">Eligible Countries</span></h3>
                    <p>Ethiopia</p>
                    <p>Djibouti</p>
                    <p>Kenya</p>
                    <p>Tanzania</p>
                </div>
                <div class="footer-section">
                    <h3><span data-i18n="contact_ethiopia">Contact - Ethiopia Office</span></h3>
                    <p><i class="fas fa-map-marker-alt"></i> <span data-i18n="addis_ababa">Addis Ababa, Ethiopia</span></p>
                    <p><i class="fas fa-envelope"></i> Solomon@gmail.com</p>
                    <p><i class="fas fa-phone"></i> +251 923 578 788</p>
                </div>
                <div class="footer-section">
                    <h3><span data-i18n="contact_canada">Contact - Canada Office</span></h3>
                    <p><i class="fas fa-envelope"></i> visa.canada@application.ca</p>
                    <p><i class="fas fa-phone"></i> +1 (800) 123-4567</p>
                    <p><i class="fas fa-map-marker-alt"></i> <span data-i18n="ottawa">Ottawa, Canada</span></p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 <span data-i18n="copyright">Canadian Work Visa Application Portal. All rights reserved.</span></p>
            </div>
        </footer>
    </div>
    <script>
        // Job data with detailed information - Only agriculture, drivers, healthcare, and construction
        const availableJobs = [
            {
                id: 1,
                title: "Agricultural Worker",
                category: "agriculture",
                wage: "$18 - $22/hour",
                employer: "Green Valley Farms",
                province: "Manitoba",
                description: "Perform various farming tasks including planting, harvesting, and general farm maintenance. Work with crops and livestock in a rural setting.",
                details: {
                    "Employment Type": "Seasonal, Full-time",
                    "Hours per Week": "40-60 hours during peak season",
                    "Benefits": "Housing provided, overtime pay",
                    "Accommodation": "On-farm housing included",
                    "Contract Length": "8 months (seasonal)"
                },
                requirements: [
                    "Previous farming experience preferred",
                    "Ability to perform physically demanding tasks",
                    "Willingness to work in various weather conditions",
                    "Basic understanding of farm equipment",
                    "Teamwork skills"
                ]
            },
            {
                id: 2,
                title: "Truck Driver",
                category: "drivers",
                wage: "$60,000 - $75,000/year",
                employer: "National Transport Co.",
                province: "Saskatchewan",
                description: "Transport goods across provincial borders. Maintain vehicle and ensure timely deliveries. Follow safety regulations and maintain logs.",
                details: {
                    "Employment Type": "Full-time, Permanent",
                    "Hours per Week": "50-60 hours",
                    "Benefits": "Health insurance, retirement plan",
                    "Accommodation": "Per diem for overnight stays",
                    "Contract Length": "2 years (renewable)"
                },
                requirements: [
                    "Valid commercial driver's license",
                    "Clean driving record",
                    "2+ years of commercial driving experience",
                    "Ability to pass background check",
                    "Good physical health"
                ]
            },
            {
                id: 3,
                title: "Healthcare Assistant",
                category: "healthcare",
                wage: "$45,000 - $55,000/year",
                employer: "Metro Health Services",
                province: "Ontario",
                description: "Provide direct patient care in healthcare facilities. Assist with daily living activities and support healthcare professionals.",
                details: {
                    "Employment Type": "Full-time, Permanent",
                    "Hours per Week": "37.5 hours",
                    "Benefits": "Comprehensive health benefits, pension plan",
                    "Accommodation": "Housing assistance available",
                    "Contract Length": "2 years (renewable)"
                },
                requirements: [
                    "Certification in healthcare assistance or related field",
                    "1+ years of healthcare experience",
                    "CPR and First Aid certification",
                    "Compassionate and patient-focused",
                    "Good communication skills"
                ]
            },
            {
                id: 4,
                title: "Construction Laborer",
                category: "construction",
                wage: "$20 - $25/hour",
                employer: "BuildRight Construction",
                province: "Alberta",
                description: "Perform various construction tasks including site preparation, material handling, and assisting skilled tradespeople.",
                details: {
                    "Employment Type": "Full-time, Permanent",
                    "Hours per Week": "40-50 hours",
                    "Benefits": "Health insurance, overtime pay",
                    "Accommodation": "Temporary housing provided",
                    "Contract Length": "18 months (renewable)"
                },
                requirements: [
                    "Previous construction experience preferred",
                    "Ability to perform physically demanding tasks",
                    "Knowledge of construction safety regulations",
                    "Teamwork skills",
                    "Willingness to work outdoors in various conditions"
                ]
            },
            {
                id: 5,
                title: "Farm Equipment Operator",
                category: "agriculture",
                wage: "$22 - $26/hour",
                employer: "Prairie Farms Co-op",
                province: "Saskatchewan",
                description: "Operate and maintain farm machinery for planting, harvesting, and other agricultural operations.",
                details: {
                    "Employment Type": "Seasonal, Full-time",
                    "Hours per Week": "50-70 hours during peak season",
                    "Benefits": "Housing provided, overtime pay",
                    "Accommodation": "On-farm housing included",
                    "Contract Length": "6 months (seasonal)"
                },
                requirements: [
                    "Experience operating farm machinery",
                    "Mechanical aptitude for equipment maintenance",
                    "Ability to work long hours during harvest",
                    "Valid driver's license",
                    "Attention to safety procedures"
                ]
            },
            {
                id: 6,
                title: "Personal Support Worker",
                category: "healthcare",
                wage: "$50,000 - $60,000/year",
                employer: "Community Care Services",
                province: "British Columbia",
                description: "Provide personal care and support to clients in their homes or care facilities. Assist with daily living activities and medication management.",
                details: {
                    "Employment Type": "Full-time, Permanent",
                    "Hours per Week": "40 hours",
                    "Benefits": "Health insurance, paid vacation",
                    "Accommodation": "Housing assistance available",
                    "Contract Length": "2 years (renewable)"
                },
                requirements: [
                    "PSW certification or equivalent",
                    "1+ years of experience in caregiving",
                    "First Aid and CPR certification",
                    "Compassionate and patient nature",
                    "Good communication and documentation skills"
                ]
            }
        ];

        // Language support
        const translations = {
            en: {
                // Eligibility
                "eligibility_title": "Eligibility Notice",
                "eligibility_text": "This Canadian Work Visa program is specifically available for applicants from the following East African countries:",
                "ineligible_text": "Applicants from Somalia and Sudan are not eligible for this specific program.",
                // Form
                "form_title": "Canadian Work Visa Application",
                "personal_info": "Personal Information",
                "first_name": "First Name",
                "last_name": "Last Name",
                "email": "Email Address",
                "phone": "Phone Number",
                "dob": "Date of Birth",
                "nationality": "Nationality",
                "select_nationality": "Select your nationality",
                "other_nationality": "Other (Not Eligible)",
                // Passport
                "passport_info": "Passport Information",
                "passport_info_title": "Passport Information",
                "passport_info_text": "Please provide your passport details. The issue and expiry dates are optional at this stage.",
                "passport_number": "Passport Number",
                "passport_country": "Passport Issuing Country",
                "select_country": "Select country",
                "other_country": "Other (Not Eligible)",
                "issue_date": "Issue Date",
                "expiry_date": "Expiry Date",
                // Visa Details
                "visa_details": "Work Visa Details",
                "visa_type": "Type of Work Visa",
                "select_visa": "Select visa type",
                "temporary_worker": "Temporary Foreign Worker",
                "seasonal_worker": "Seasonal Agricultural Worker",
                "skilled_worker": "Skilled Worker",
                "caregiver": "Caregiver Program",
                "job_title": "Job Title in Canada",
                "employer": "Employer Name",
                "province": "Province of Employment",
                "select_province": "Select province",
                "other_province": "Other",
                "canadian_address": "Canadian Address (if known)",
                // Documents
                "document_upload": "Document Upload",
                "document_submission": "Document Submission",
                "document_submission_text": "Please upload your passport copy and photo now. Other supporting documents (employment letter, qualifications, etc.) will be submitted after the initial assessment and consultation payment.",
                "passport_copy": "Passport Copy",
                "passport_copy_text": "Upload a clear, color copy of your passport information page",
                "passport_photo": "Passport Photo",
                "passport_photo_text": "Upload a recent passport-style photo with white background",
                "supporting_docs": "Supporting Documents (Optional)",
                "supporting_docs_text": "Other documents can be uploaded after initial assessment and consultation payment",
                "upload_file": "Upload File",
                "not_uploaded": "Not uploaded",
                "no_file": "No file chosen",
                // Payment
                "payment": "Payment",
                "application_fee": "Application Fee",
                "not_paid": "NOT PAID YET",
                "complete_application": "Complete your application by paying the processing fee.",
                "refund_policy": "Refund Policy",
                "refund_text": "70% of the payment is refundable at any time if the applicant withdraws their application. The remaining 30% covers administrative costs incurred during the initial processing of your application.",
                "payment_info": "Payment Information",
                "payment_info_text": "Your application will only be processed after successful payment. If you choose to withdraw, you can request a refund of 70% of the payment at any stage of the application process.",
                "payment_contact": "Payment Contact",
                "payment_contact_text": "All payments should be made to our correspondent:",
                "name": "Name",
                "correct_accounts": "Please ensure you use the correct account numbers below:",
                "select_payment": "Select Payment Method",
                "mobile_payment": "Mobile Payment",
                "bank_transfer": "Bank Transfer",
                "telebirr_instructions": "Telebirr Payment Instructions",
                "account_name": "Account Name",
                "telebirr_account": "Telebirr Account Number",
                "telebirr_step1": "Dial *127# on your mobile phone",
                "telebirr_step2": "Select \"Send Money\" option",
                "telebirr_step3": "Enter the recipient number:",
                "telebirr_step4": "Enter the amount:",
                "telebirr_step5": "Enter your PIN to confirm the transaction",
                "telebirr_step6": "Take a screenshot of the transaction confirmation",
                "telebirr_step7": "Upload the screenshot using the button below",
                "cbe_instructions": "CBE Payment Instructions",
                "cbe_account": "CBE Account Number",
                "cbe_step1": "Visit any CBE branch or use CBE's online banking",
                "cbe_step2": "Make a transfer to the account number above",
                "account_number": "Account Number",
                "bank": "Bank",
                "cbe_bank": "Commercial Bank of Ethiopia",
                "amount": "Amount",
                "equivalent": "equivalent in ETB",
                "cbe_step7": "Take a photo or screenshot of the transaction receipt",
                "cbe_step8": "Upload the receipt using the button below",
                "upload_receipt": "Upload Payment Receipt",
                "telebirr_receipt_text": "Upload a screenshot of your Telebirr transaction confirmation",
                "cbe_receipt_text": "Upload a photo or screenshot of your CBE transaction receipt",
                "confirm_payment": "Confirm Payment",
                // Navigation
                "previous": "Previous",
                "next": "Next",
                "submit_application": "Submit Application",
                "step_guide": "How to Complete This Step",
                // Success
                "success_title": "Application Submitted Successfully!",
                "success_text": "Thank you for submitting your Canadian Work Visa application. We have sent a confirmation to your email address.",
                "reference_number": "Your application reference number is:",
                "new_application": "Start New Application",
                // Footer
                "canada_work_visa": "Canada Work Visa",
                "official_portal": "Official application portal for eligible East African applicants.",
                "eligible_countries": "Eligible Countries",
                "contact_ethiopia": "Contact - Ethiopia Office",
                "addis_ababa": "Addis Ababa, Ethiopia",
                "contact_canada": "Contact - Canada Office",
                "ottawa": "Ottawa, Canada",
                "copyright": "Canadian Work Visa Application Portal. All rights reserved."
            }
        };
        
        // Language switching functionality
        const languageSelect = document.getElementById('languageSelect');
        languageSelect.addEventListener('change', function() {
            const selectedLang = this.value;
            updateLanguage(selectedLang);
        });
        
        function updateLanguage(lang) {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
        }
        
        // Form Steps Navigation
        const steps = document.querySelectorAll('.form-step');
        const stepIndicators = document.querySelectorAll('.step');
        const progressBar = document.getElementById('formProgress');
        const nextButtons = document.querySelectorAll('.btn-next');
        const prevButtons = document.querySelectorAll('.btn-prev');
        const submitButton = document.getElementById('submitApplication');
        const payFeeBtn = document.getElementById('payFeeBtn');
        const feeStatus = document.getElementById('feeStatus');
        const successMessage = document.getElementById('successMessage');
        const newApplicationBtn = document.getElementById('newApplication');
        const nationalitySelect = document.getElementById('nationality');
        const passportCountrySelect = document.getElementById('passportCountry');
        const paymentOptions = document.querySelectorAll('.payment-option');
        const paymentDetails = document.querySelectorAll('.payment-details');
        const trackingNumberDisplay = document.getElementById('trackingNumberDisplay');
        const downloadPdfBtn = document.getElementById('downloadPdf');
        const toggleApplicantsBtn = document.getElementById('toggleApplicantsBtn');
        const applicantsList = document.getElementById('applicantsList');
        const applicantDetails = document.getElementById('applicantDetails');
        const searchInput = document.getElementById('searchInput');
        const pagination = document.getElementById('pagination');
        const jobSelectionContainer = document.getElementById('jobSelectionContainer');
        const jobTitleInput = document.getElementById('jobTitle');
        const employerInput = document.getElementById('employer');
        
        let currentStep = 0;
        let selectedPaymentMethod = null;
        let isPaymentCompleted = false;
        let isReceiptUploaded = false;
        let currentPage = 1;
        const itemsPerPage = 10;
        let selectedJob = null;
        let currentApplicationId = null;
        
        // Initialize progress bar
        updateProgressBar();
        
        // Populate job selection
        function populateJobSelection() {
            jobSelectionContainer.innerHTML = '';
            
            availableJobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card';
                jobCard.dataset.jobId = job.id;
                
                jobCard.innerHTML = `
                    <div class="job-header">
                        <div>
                            <div class="job-title">${job.title}</div>
                            <div class="job-province">${job.province}</div>
                        </div>
                        <div class="job-wage">${job.wage}</div>
                    </div>
                    <div class="job-description">${job.description}</div>
                    <div class="job-details">
                        ${Object.entries(job.details).map(([key, value]) => `
                            <div class="job-detail-item">
                                <div class="job-detail-label">${key}:</div>
                                <div class="job-detail-value">${value}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="job-requirements">
                        <h4>Requirements:</h4>
                        <ul>
                            ${job.requirements.map(req => `<li>${req}</li>`).join('')}
                        </ul>
                    </div>
                `;
                
                jobCard.addEventListener('click', function() {
                    // Remove selected class from all job cards
                    document.querySelectorAll('.job-card').forEach(card => {
                        card.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked job card
                    this.classList.add('selected');
                    
                    // Store selected job
                    selectedJob = job;
                    
                    // Auto-fill job details in the visa details step
                    jobTitleInput.value = job.title;
                    employerInput.value = job.employer;
                });
                
                jobSelectionContainer.appendChild(jobCard);
            });
        }
        
        // Check eligibility based on nationality
        function checkEligibility() {
            const nationality = nationalitySelect.value;
            const passportCountry = passportCountrySelect.value;
            if (nationality === 'other' || passportCountry === 'other') {
                alert('Sorry, applicants from your country are not eligible for this specific work visa program. Please check other Canadian immigration pathways.');
                return false;
            }
            return true;
        }
        
        // Next button functionality
        nextButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (validateStep(currentStep) && checkEligibility()) {
                    // Special validation for job selection step
                    if (currentStep === 1 && !selectedJob) {
                        alert('Please select a job before proceeding.');
                        return;
                    }
                    
                    steps[currentStep].classList.remove('active');
                    currentStep++;
                    steps[currentStep].classList.add('active');
                    updateProgressBar();
                }
            });
        });
        
        // Previous button functionality
        prevButtons.forEach(button => {
            button.addEventListener('click', () => {
                steps[currentStep].classList.remove('active');
                currentStep--;
                steps[currentStep].classList.add('active');
                updateProgressBar();
            });
        });
        
        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentStep + 1) / steps.length) * 100;
            progressBar.style.width = `${progress}%`;
            // Update step indicators
            stepIndicators.forEach((step, index) => {
                if (index <= currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }
        
        // Validate current step
        function validateStep(step) {
            const currentStepElement = steps[step];
            const inputs = currentStepElement.querySelectorAll('input[required], select[required]');
            let isValid = true;
            inputs.forEach(input => {
                if (!input.value) {
                    input.style.borderColor = 'var(--secondary)';
                    isValid = false;
                } else {
                    input.style.borderColor = '#ddd';
                }
            });
            return isValid;
        }
        
        // NEW UPLOAD FUNCTIONALITY
        const uploadButtons = document.querySelectorAll('.upload-btn');
        uploadButtons.forEach(button => {
            button.addEventListener('click', function() {
                const forId = this.getAttribute('for');
                document.getElementById(forId).click();
            });
        });
        
        // File upload functionality
        const passportUpload = document.getElementById('passportUpload');
        const photoUpload = document.getElementById('photoUpload');
        const docsUpload = document.getElementById('docsUpload');
        const telebirrReceipt = document.getElementById('telebirrReceipt');
        const cbeReceipt = document.getElementById('cbeReceipt');
        const passportProgress = document.getElementById('passportProgress');
        const photoProgress = document.getElementById('photoProgress');
        const docsProgress = document.getElementById('docsProgress');
        const telebirrProgress = document.getElementById('telebirrProgress');
        const cbeProgress = document.getElementById('cbeProgress');
        const passportPreview = document.getElementById('passportPreview');
        const photoPreview = document.getElementById('photoPreview');
        const passportFileName = document.getElementById('passportFileName');
        const photoFileName = document.getElementById('photoFileName');
        const docsFileName = document.getElementById('docsFileName');
        const telebirrFileName = document.getElementById('telebirrFileName');
        const cbeFileName = document.getElementById('cbeFileName');
        const passportStatus = document.getElementById('passportStatus');
        const photoStatus = document.getElementById('photoStatus');
        const docsStatus = document.getElementById('docsStatus');
        const telebirrStatus = document.getElementById('telebirrStatus');
        const cbeStatus = document.getElementById('cbeStatus');
        
        let uploads = {
            passport: { uploaded: false, data: null },
            photo: { uploaded: false, data: null },
            docs: { uploaded: false, data: null },
            telebirrReceipt: { uploaded: false, data: null },
            cbeReceipt: { uploaded: false, data: null }
        };
        
        // Function to handle file upload with progress
        function handleFileUpload(fileInput, progressBar, fileNameElement, statusElement, previewElement, uploadKey) {
            if (fileInput.files && fileInput.files[0]) {
                const file = fileInput.files[0];
                fileNameElement.textContent = file.name;
                
                // Show progress bar
                progressBar.style.display = 'block';
                
                // Read file as base64 for storage
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploads[uploadKey].data = e.target.result;
                    
                    // Show preview for images
                    if (file.type.startsWith('image/') && previewElement) {
                        previewElement.querySelector('img').src = e.target.result;
                        previewElement.style.display = 'block';
                    } else if (previewElement) {
                        previewElement.style.display = 'block';
                        previewElement.querySelector('img').src = 'https://cdn-icons-png.flaticon.com/512/337/337946.png';
                    }
                };
                reader.readAsDataURL(file);
                
                // Simulate upload progress
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 5;
                    progressBar.querySelector('.upload-progress-bar').style.width = `${progress}%`;
                    if (progress >= 100) {
                        clearInterval(interval);
                        // Update status
                        statusElement.textContent = 'Uploaded';
                        statusElement.classList.remove('pending');
                        statusElement.classList.add('completed');
                        uploads[uploadKey].uploaded = true;
                        checkSubmitEligibility();
                        // Hide progress bar after a delay
                        setTimeout(() => {
                            progressBar.style.display = 'none';
                        }, 1000);
                    }
                }, 100);
            }
        }
        
        passportUpload.addEventListener('change', function(e) {
            handleFileUpload(this, passportProgress, passportFileName, passportStatus, passportPreview, 'passport');
        });
        
        photoUpload.addEventListener('change', function(e) {
            handleFileUpload(this, photoProgress, photoFileName, photoStatus, photoPreview, 'photo');
        });
        
        docsUpload.addEventListener('change', function(e) {
            handleFileUpload(this, docsProgress, docsFileName, docsStatus, null, 'docs');
        });
        
        telebirrReceipt.addEventListener('change', function(e) {
            handleFileUpload(this, telebirrProgress, telebirrFileName, telebirrStatus, null, 'telebirrReceipt');
            isReceiptUploaded = true;
            checkSubmitEligibility();
        });
        
        cbeReceipt.addEventListener('change', function(e) {
            handleFileUpload(this, cbeProgress, cbeFileName, cbeStatus, null, 'cbeReceipt');
            isReceiptUploaded = true;
            checkSubmitEligibility();
        });
        
        // Payment method selection
        paymentOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options
                paymentOptions.forEach(opt => {
                    opt.classList.remove('selected');
                });
                // Add selected class to clicked option
                this.classList.add('selected');
                // Hide all payment details
                paymentDetails.forEach(detail => {
                    detail.classList.remove('active');
                });
                // Show selected payment details
                const paymentMethod = this.getAttribute('data-payment');
                selectedPaymentMethod = paymentMethod;
                document.getElementById(`${paymentMethod}Details`).classList.add('active');
                // Show payment button
                payFeeBtn.style.display = 'inline-flex';
            });
        });
        
        // Payment functionality
        payFeeBtn.addEventListener('click', function() {
            if (!selectedPaymentMethod) {
                alert('Please select a payment method first.');
                return;
            }
            // Simulate payment processing
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            this.disabled = true;
            setTimeout(() => {
                isPaymentCompleted = true;
                feeStatus.textContent = 'PAID';
                feeStatus.style.background = '#e8f5e9';
                feeStatus.style.color = 'var(--success)';
                this.style.display = 'none';
                checkSubmitEligibility();
            }, 2000);
        });
        
        // Check if form can be submitted
        function checkSubmitEligibility() {
            if (uploads.passport.uploaded && uploads.photo.uploaded && isPaymentCompleted && isReceiptUploaded) {
                submitButton.disabled = false;
            }
        }
        
        // Form submission
        submitButton.addEventListener('click', function() {
            if (validateStep(currentStep) && checkEligibility()) {
                // Generate application data
                currentApplicationId = generateId();
                const applicationData = {
                    id: currentApplicationId,
                    timestamp: new Date().toISOString(),
                    personalInfo: {
                        firstName: document.getElementById('firstName').value,
                        lastName: document.getElementById('lastName').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        dob: document.getElementById('dob').value,
                        nationality: document.getElementById('nationality').value
                    },
                    jobInfo: selectedJob,
                    passportInfo: {
                        passportNumber: document.getElementById('passportNumber').value,
                        passportCountry: document.getElementById('passportCountry').value,
                        passportIssue: document.getElementById('passportIssue').value,
                        passportExpiry: document.getElementById('passportExpiry').value
                    },
                    visaDetails: {
                        visaType: document.getElementById('visaType').value,
                        jobTitle: document.getElementById('jobTitle').value,
                        employer: document.getElementById('employer').value,
                        province: document.getElementById('province').value,
                        canadianAddress: document.getElementById('canadianAddress').value
                    },
                    documents: {
                        passport: uploads.passport.data,
                        photo: uploads.photo.data,
                        supportingDocs: uploads.docs.data,
                        paymentReceipt: selectedPaymentMethod === 'telebirr' ? uploads.telebirrReceipt.data : uploads.cbeReceipt.data
                    },
                    payment: {
                        method: selectedPaymentMethod,
                        status: isPaymentCompleted ? 'Paid' : 'Pending',
                        amount: 150
                    }
                };
                
                // Store application data
                storeApplication(applicationData);
                
                // Set tracking number
                trackingNumberDisplay.textContent = currentApplicationId;
                
                // Hide form and show success message
                document.querySelector('.form-step.active').style.display = 'none';
                successMessage.style.display = 'block';
                
                // Update applicants list
                displayApplicants();
            }
        });
        
        // Generate unique ID for application
        function generateId() {
            const timestamp = Date.now().toString(36);
            const random = Math.random().toString(36).substring(2, 5);
            return `CA-WV-${timestamp}-${random}`.toUpperCase();
        }
        
        // Store application in localStorage
        function storeApplication(application) {
            let applications = JSON.parse(localStorage.getItem('canadaVisaApplications')) || [];
            applications.push(application);
            localStorage.setItem('canadaVisaApplications', JSON.stringify(applications));
        }
        
        // Get applications from localStorage
        function getApplications() {
            return JSON.parse(localStorage.getItem('canadaVisaApplications')) || [];
        }
        
        // Delete application from localStorage
        function deleteApplication(id) {
            let applications = getApplications();
            applications = applications.filter(app => app.id !== id);
            localStorage.setItem('canadaVisaApplications', JSON.stringify(applications));
            displayApplicants();
            applicantDetails.classList.remove('active');
        }
        
        // Generate PDF with application details
        function generateApplicationPDF(applicationData) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Set document properties
            doc.setProperties({
                title: `Canadian Work Visa Application - ${applicationData.id}`,
                subject: 'Work Visa Application Summary',
                author: 'IRCC Canada',
                keywords: 'canada, work, visa, application',
                creator: 'IRCC Application Portal'
            });
            
            // Add header
            doc.setFontSize(20);
            doc.setTextColor(38, 55, 74); // Primary color
            doc.text('CANADIAN WORK VISA APPLICATION', 105, 20, { align: 'center' });
            
            doc.setFontSize(12);
            doc.setTextColor(100, 100, 100);
            doc.text('Immigration, Refugees and Citizenship Canada', 105, 30, { align: 'center' });
            
            // Add application ID
            doc.setFontSize(14);
            doc.setTextColor(216, 30, 5); // Secondary color
            doc.text(`Application ID: ${applicationData.id}`, 20, 50);
            
            doc.setDrawColor(216, 30, 5);
            doc.line(20, 55, 190, 55);
            
            // Personal Information Section
            doc.setFontSize(16);
            doc.setTextColor(38, 55, 74);
            doc.text('PERSONAL INFORMATION', 20, 70);
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            doc.text(`Full Name: ${applicationData.personalInfo.firstName} ${applicationData.personalInfo.lastName}`, 20, 80);
            doc.text(`Email: ${applicationData.personalInfo.email}`, 20, 87);
            doc.text(`Phone: ${applicationData.personalInfo.phone}`, 20, 94);
            doc.text(`Date of Birth: ${applicationData.personalInfo.dob}`, 20, 101);
            doc.text(`Nationality: ${applicationData.personalInfo.nationality}`, 20, 108);
            
            // Job Information Section
            doc.setFontSize(16);
            doc.setTextColor(38, 55, 74);
            doc.text('JOB INFORMATION', 20, 125);
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            doc.text(`Job Title: ${applicationData.jobInfo.title}`, 20, 135);
            doc.text(`Employer: ${applicationData.jobInfo.employer}`, 20, 142);
            doc.text(`Province: ${applicationData.jobInfo.province}`, 20, 149);
            doc.text(`Wage: ${applicationData.jobInfo.wage}`, 20, 156);
            
            // Passport Information Section
            doc.setFontSize(16);
            doc.setTextColor(38, 55, 74);
            doc.text('PASSPORT INFORMATION', 20, 173);
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            doc.text(`Passport Number: ${applicationData.passportInfo.passportNumber}`, 20, 183);
            doc.text(`Issuing Country: ${applicationData.passportInfo.passportCountry}`, 20, 190);
            doc.text(`Issue Date: ${applicationData.passportInfo.passportIssue || 'Not provided'}`, 20, 197);
            doc.text(`Expiry Date: ${applicationData.passportInfo.passportExpiry || 'Not provided'}`, 20, 204);
            
            // Visa Details Section
            doc.setFontSize(16);
            doc.setTextColor(38, 55, 74);
            doc.text('VISA DETAILS', 20, 221);
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            doc.text(`Visa Type: ${applicationData.visaDetails.visaType}`, 20, 231);
            doc.text(`Province of Employment: ${applicationData.visaDetails.province}`, 20, 238);
            doc.text(`Canadian Address: ${applicationData.visaDetails.canadianAddress || 'Not provided'}`, 20, 245);
            
            // Payment Information Section
            doc.setFontSize(16);
            doc.setTextColor(38, 55, 74);
            doc.text('PAYMENT INFORMATION', 20, 262);
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            doc.text(`Payment Method: ${applicationData.payment.method === 'telebirr' ? 'Telebirr' : 'CBE'}`, 20, 272);
            doc.text(`Payment Status: ${applicationData.payment.status}`, 20, 279);
            doc.text(`Amount: $${applicationData.payment.amount} CAD`, 20, 286);
            
            // Footer and tracking information
            doc.setFontSize(10);
            doc.setTextColor(100, 100, 100);
            doc.text('Keep this document for your records. Use your Application ID to track your application status.', 105, 290, { align: 'center' });
            
            // Save the PDF
            doc.save(`canada_visa_application_${applicationData.id}.pdf`);
        }
        
        // Generate random Ethiopian applicants
        function generateEthiopianApplicants() {
            const ethiopianFirstNames = [
                'Abebe', 'Alemu', 'Alem', 'Bereket', 'Dawit', 'Eyerusalem', 'Fitsum', 'Genet', 'Hana', 'Kebede', 
                'Liya', 'Mulu', 'Nati', 'Selam', 'Tadiyos', 'Zelalem', 'Mekonnen', 'Tigist', 'Yohannes', 'Rahel',
                'Samuel', 'Martha', 'Daniel', 'Hirut', 'Solomon', 'Mulu', 'Yared', 'Tsion', 'Elias', 'Mihret',
                'Girma', 'Frehiwot', 'Mesfin', 'Birtukan', 'Assefa', 'Meskel', 'Kassahun', 'Tsehay', 'Getachew', 'Mekdes'
            ];
            
            const ethiopianLastNames = [
                'Tesfaye', 'Gebre', 'Hailu', 'Mengistu', 'Tekle', 'Wolde', 'Kassa', 'Assefa', 'Berhanu', 'Tadesse',
                'Girma', 'Mulugeta', 'Kebede', 'Gebremariam', 'Haile', 'Desta', 'Mekonnen', 'Tsegaye', 'Yohannes', 'Alemayehu',
                'Asrat', 'Bekele', 'Demissie', 'Fikadu', 'Getachew', 'Haileselassie', 'Kifle', 'Mamo', 'Negash', 'Sisay'
            ];
            
            const visaTypes = ['temporary', 'seasonal', 'skilled', 'caregiver'];
            const provinces = ['ontario', 'quebec', 'british-columbia', 'alberta', 'manitoba', 'saskatchewan', 'nova-scotia'];
            const statuses = ['Approved', 'Pending', 'Rejected'];
            
            const applicants = [];
            
            for (let i = 0; i < 173; i++) {
                const firstName = ethiopianFirstNames[Math.floor(Math.random() * ethiopianFirstNames.length)];
                const lastName = ethiopianLastNames[Math.floor(Math.random() * ethiopianLastNames.length)];
                const email = `${firstName.toLowerCase()}.${lastName.toLowerCase()}@gmail.com`;
                const phone = `+251 9${Math.floor(Math.random() * 10)}${Math.floor(Math.random() * 10)} ${Math.floor(Math.random() * 1000)} ${Math.floor(Math.random() * 1000)}`;
                const passportNumber = `ET${Math.floor(100000 + Math.random() * 900000)}`;
                const applicationId = `CA-WV-2023-${Math.floor(1000 + Math.random() * 9000)}`;
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                const visaType = visaTypes[Math.floor(Math.random() * visaTypes.length)];
                const province = provinces[Math.floor(Math.random() * provinces.length)];
                
                // Generate a random date within the last 2 years
                const startDate = new Date(2022, 0, 1);
                const endDate = new Date();
                const applicationDate = new Date(startDate.getTime() + Math.random() * (endDate.getTime() - startDate.getTime()));
                
                applicants.push({
                    id: applicationId,
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    phone: phone,
                    passportNumber: passportNumber,
                    status: status,
                    visaType: visaType,
                    province: province,
                    applicationDate: applicationDate.toISOString()
                });
            }
            
            return applicants;
        }
        
        // Display applicants in the table
        function displayApplicants() {
            const applications = getApplications();
            const ethiopianApplicants = generateEthiopianApplicants();
            const allApplicants = [...applications, ...ethiopianApplicants];
            
            // Filter based on search
            const searchTerm = searchInput.value.toLowerCase();
            const filteredApplicants = allApplicants.filter(applicant => 
                applicant.firstName.toLowerCase().includes(searchTerm) ||
                applicant.lastName.toLowerCase().includes(searchTerm) ||
                applicant.passportNumber.toLowerCase().includes(searchTerm) ||
                applicant.id.toLowerCase().includes(searchTerm)
            );
            
            // Calculate pagination
            const totalPages = Math.ceil(filteredApplicants.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const paginatedApplicants = filteredApplicants.slice(startIndex, startIndex + itemsPerPage);
            
            applicantsList.innerHTML = '';
            
            if (paginatedApplicants.length === 0) {
                applicantsList.innerHTML = `
                    <div class="applicants-empty">
                        <i class="fas fa-folder-open" style="font-size: 3rem; color: #ddd; margin-bottom: 15px;"></i>
                        <p>No applicants found.</p>
                    </div>
                `;
                pagination.innerHTML = '';
                return;
            }
            
            const table = document.createElement('table');
            table.className = 'applicants-table';
            table.innerHTML = `
                <thead>
                    <tr>
                        <th>Application ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Passport No.</th>
                        <th>Visa Type</th>
                        <th>Province</th>
                        <th>Status</th>
                        <th>Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    ${paginatedApplicants.map(applicant => `
                        <tr>
                            <td>${applicant.id}</td>
                            <td>${applicant.firstName} ${applicant.lastName}</td>
                            <td>${applicant.email}</td>
                            <td>${applicant.passportNumber}</td>
                            <td>${applicant.visaType}</td>
                            <td>${applicant.province}</td>
                            <td>
                                <span style="
                                    padding: 4px 8px;
                                    border-radius: 12px;
                                    font-size: 0.8rem;
                                    font-weight: 600;
                                    ${applicant.status === 'Approved' ? 'background: #d4edda; color: #155724;' : ''}
                                    ${applicant.status === 'Pending' ? 'background: #fff3cd; color: #856404;' : ''}
                                    ${applicant.status === 'Rejected' ? 'background: #f8d7da; color: #721c24;' : ''}
                                ">
                                    ${applicant.status}
                                </span>
                            </td>
                            <td>${new Date(applicant.applicationDate).toLocaleDateString()}</td>
                            <td>
                                <div class="applicant-actions">
                                    <button class="btn btn-view" onclick="viewApplicant('${applicant.id}')">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                    <button class="btn btn-delete" onclick="deleteApplication('${applicant.id}')">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `).join('')}
                </tbody>
            `;
            
            applicantsList.appendChild(table);
            
            // Update pagination
            updatePagination(totalPages);
            
            // Update statistics
            updateStatistics(allApplicants);
        }
        
        // Update pagination controls
        function updatePagination(totalPages) {
            pagination.innerHTML = '';
            
            if (totalPages <= 1) return;
            
            // Previous button
            const prevButton = document.createElement('button');
            prevButton.innerHTML = '&laquo;';
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayApplicants();
                }
            });
            pagination.appendChild(prevButton);
            
            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                pageButton.classList.toggle('active', i === currentPage);
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    displayApplicants();
                });
                pagination.appendChild(pageButton);
            }
            
            // Next button
            const nextButton = document.createElement('button');
            nextButton.innerHTML = '&raquo;';
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    displayApplicants();
                }
            });
            pagination.appendChild(nextButton);
        }
        
        // Update statistics
        function updateStatistics(applicants) {
            const totalApplicants = applicants.length;
            const approvedCount = applicants.filter(a => a.status === 'Approved').length;
            const pendingCount = applicants.filter(a => a.status === 'Pending').length;
            const rejectedCount = applicants.filter(a => a.status === 'Rejected').length;
            
            document.getElementById('totalApplicants').textContent = totalApplicants;
            document.getElementById('approvedCount').textContent = approvedCount;
            document.getElementById('pendingCount').textContent = pendingCount;
            document.getElementById('rejectedCount').textContent = rejectedCount;
        }
        
        // View applicant details
        function viewApplicant(id) {
            const applications = getApplications();
            const ethiopianApplicants = generateEthiopianApplicants();
            const allApplicants = [...applications, ...ethiopianApplicants];
            const applicant = allApplicants.find(app => app.id === id);
            
            if (!applicant) return;
            
            applicantDetails.innerHTML = `
                <h3 class="section-title">
                    <i class="fas fa-file-alt"></i>
                    Applicant Details: ${applicant.id}
                </h3>
                <div class="details-grid">
                    <div>
                        <h4>Personal Information</h4>
                        <div class="details-item">
                            <div class="details-label">Full Name</div>
                            <div class="details-value">${applicant.firstName} ${applicant.lastName}</div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Email</div>
                            <div class="details-value">${applicant.email}</div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Phone</div>
                            <div class="details-value">${applicant.phone}</div>
                        </div>
                    </div>
                    <div>
                        <h4>Passport Information</h4>
                        <div class="details-item">
                            <div class="details-label">Passport Number</div>
                            <div class="details-value">${applicant.passportNumber}</div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Issuing Country</div>
                            <div class="details-value">Ethiopia</div>
                        </div>
                    </div>
                    <div>
                        <h4>Visa Details</h4>
                        <div class="details-item">
                            <div class="details-label">Visa Type</div>
                            <div class="details-value">${applicant.visaType}</div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Province</div>
                            <div class="details-value">${applicant.province}</div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Status</div>
                            <div class="details-value">
                                <span style="
                                    padding: 4px 8px;
                                    border-radius: 12px;
                                    font-size: 0.8rem;
                                    font-weight: 600;
                                    ${applicant.status === 'Approved' ? 'background: #d4edda; color: #155724;' : ''}
                                    ${applicant.status === 'Pending' ? 'background: #fff3cd; color: #856404;' : ''}
                                    ${applicant.status === 'Rejected' ? 'background: #f8d7da; color: #721c24;' : ''}
                                ">
                                    ${applicant.status}
                                </span>
                            </div>
                        </div>
                        <div class="details-item">
                            <div class="details-label">Application Date</div>
                            <div class="details-value">${new Date(applicant.applicationDate).toLocaleDateString()}</div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-prev" onclick="applicantDetails.classList.remove('active')" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> Back to List
                </button>
            `;
            
            applicantDetails.classList.add('active');
        }
        
        // Toggle applicants view
        toggleApplicantsBtn.addEventListener('click', function() {
            const isVisible = applicantsList.style.display !== 'none';
            
            if (isVisible) {
                applicantsList.style.display = 'none';
                applicantDetails.style.display = 'none';
                pagination.style.display = 'none';
                document.querySelector('.search-container').style.display = 'none';
                document.querySelector('.stats-container').style.display = 'none';
                this.innerHTML = '<i class="fas fa-eye"></i> View Applicants';
            } else {
                applicantsList.style.display = 'block';
                pagination.style.display = 'flex';
                document.querySelector('.search-container').style.display = 'block';
                document.querySelector('.stats-container').style.display = 'flex';
                this.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Applicants';
                displayApplicants();
            }
        });
        
        // Search functionality
        searchInput.addEventListener('input', function() {
            currentPage = 1;
            displayApplicants();
        });
        
        // PDF Download functionality
        downloadPdfBtn.addEventListener('click', function() {
            const applications = getApplications();
            const currentApplication = applications.find(app => app.id === currentApplicationId);
            
            if (currentApplication) {
                generateApplicationPDF(currentApplication);
            } else {
                alert('Application data not found. Please try submitting the application again.');
            }
        });
        
        // New application button
        newApplicationBtn.addEventListener('click', function() {
            // Reset form
            document.querySelectorAll('input, select').forEach(element => {
                element.value = '';
            });
            
            // Reset uploads
            uploads = {
                passport: { uploaded: false, data: null },
                photo: { uploaded: false, data: null },
                docs: { uploaded: false, data: null },
                telebirrReceipt: { uploaded: false, data: null },
                cbeReceipt: { uploaded: false, data: null }
            };
            
            // Reset statuses
            const statusElements = document.querySelectorAll('.upload-status');
            statusElements.forEach(status => {
                status.textContent = 'Not uploaded';
                status.classList.remove('completed');
                status.classList.add('pending');
            });
            
            // Reset file names
            const fileNameElements = document.querySelectorAll('.file-name');
            fileNameElements.forEach(fileName => {
                fileName.textContent = 'No file chosen';
            });
            
            // Hide previews
            passportPreview.style.display = 'none';
            photoPreview.style.display = 'none';
            
            // Hide progress bars
            const progressBars = document.querySelectorAll('.upload-progress');
            progressBars.forEach(progress => {
                progress.style.display = 'none';
                progress.querySelector('.upload-progress-bar').style.width = '0%';
            });
            
            // Reset payment
            isPaymentCompleted = false;
            isReceiptUploaded = false;
            selectedPaymentMethod = null;
            feeStatus.textContent = 'NOT PAID YET';
            feeStatus.style.background = '#ffeaa7';
            feeStatus.style.color = '#856404';
            payFeeBtn.innerHTML = '<i class="fas fa-credit-card"></i> Confirm Payment';
            payFeeBtn.disabled = false;
            payFeeBtn.style.display = 'none';
            
            // Reset payment options
            paymentOptions.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Hide payment details
            paymentDetails.forEach(detail => {
                detail.classList.remove('active');
            });
            
            // Reset job selection
            selectedJob = null;
            document.querySelectorAll('.job-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Reset steps
            steps.forEach(step => {
                step.classList.remove('active');
                step.style.display = 'block';
            });
            currentStep = 0;
            steps[currentStep].classList.add('active');
            updateProgressBar();
            
            // Hide success message
            successMessage.style.display = 'none';
            
            // Disable submit button
            submitButton.disabled = true;
        });
        
        // Initialize job selection and applicants list
        populateJobSelection();
        displayApplicants();
        
        // Make functions available globally for onclick handlers
        window.viewApplicant = viewApplicant;
        window.deleteApplication = deleteApplication;
    </script>
</body>
</html>